{
    "schemes": [
        "http"
    ],
    "swagger": "2.0",
    "info": {
        "description": "cocursor 守护进程 API 服务",
        "title": "cocursor Daemon API",
        "contact": {},
        "version": "1.0"
    },
    "host": "localhost:19960",
    "basePath": "/api/v1",
    "paths": {
        "/notifications": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "通知"
                ],
                "summary": "创建通知",
                "parameters": [
                    {
                        "description": "通知信息",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_application_notification.CreateNotificationDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.Response"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/project/activate": {
            "post": {
                "description": "接收前端上报的当前项目路径，更新活跃状态",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "项目"
                ],
                "summary": "激活项目",
                "parameters": [
                    {
                        "description": "激活请求",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/internal_interfaces_http_handler.ActivateProjectRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/internal_interfaces_http_handler.ActivateProjectResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/project/list": {
            "get": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "项目"
                ],
                "summary": "列出所有已发现的项目",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/definitions/github_com_cocursor_backend_internal_domain_cursor.ProjectInfo"
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/project/{project_name}/generations": {
            "get": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "项目"
                ],
                "summary": "查询项目的 AI 生成记录",
                "parameters": [
                    {
                        "type": "string",
                        "description": "项目名称",
                        "name": "project_name",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/internal_interfaces_http_handler.ProjectGenerationsResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/project/{project_name}/prompts": {
            "get": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "项目"
                ],
                "summary": "查询项目的 AI 对话历史",
                "parameters": [
                    {
                        "type": "string",
                        "description": "项目名称",
                        "name": "project_name",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/internal_interfaces_http_handler.ProjectPromptsResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/project/{project_name}/sessions": {
            "get": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "项目"
                ],
                "summary": "查询项目的 Composer 会话",
                "parameters": [
                    {
                        "type": "string",
                        "description": "项目名称",
                        "name": "project_name",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/internal_interfaces_http_handler.ProjectSessionsResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/project/{project_name}/stats/acceptance": {
            "get": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "项目"
                ],
                "summary": "查询项目的接受率统计",
                "parameters": [
                    {
                        "type": "string",
                        "description": "项目名称",
                        "name": "project_name",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "开始日期 YYYY-MM-DD，默认最近 7 天",
                        "name": "start_date",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "结束日期 YYYY-MM-DD，默认今天",
                        "name": "end_date",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/internal_interfaces_http_handler.ProjectAcceptanceStatsResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/sessions/list": {
            "get": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "会话"
                ],
                "summary": "获取会话列表",
                "parameters": [
                    {
                        "type": "string",
                        "description": "项目名称",
                        "name": "project_name",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "每页条数，默认 20，最大 100",
                        "name": "limit",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "偏移量，默认 0",
                        "name": "offset",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "搜索关键词（会话名称）",
                        "name": "search",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/definitions/github_com_cocursor_backend_internal_domain_cursor.ComposerData"
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/sessions/{sessionId}/detail": {
            "get": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "会话"
                ],
                "summary": "获取会话详情",
                "parameters": [
                    {
                        "type": "string",
                        "description": "会话 ID",
                        "name": "sessionId",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "description": "限制消息数量，默认 100，最大 1000",
                        "name": "limit",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/github_com_cocursor_backend_internal_domain_cursor.SessionDetail"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/stats/acceptance-rate": {
            "get": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "统计"
                ],
                "summary": "获取 AI 代码接受率统计",
                "parameters": [
                    {
                        "type": "string",
                        "description": "开始日期，格式 YYYY-MM-DD，默认最近 7 天",
                        "name": "start_date",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "结束日期，格式 YYYY-MM-DD，默认今天",
                        "name": "end_date",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/definitions/github_com_cocursor_backend_internal_domain_cursor.DailyAcceptanceStats"
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/stats/conversation-overview": {
            "get": {
                "description": "使用 project_name 参数查询项目，如果不提供则尝试从当前工作目录自动检测",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "统计"
                ],
                "summary": "获取对话统计概览",
                "parameters": [
                    {
                        "type": "string",
                        "description": "项目名称，如 cocursor（可通过 GET /api/v1/project/list 查看所有项目）",
                        "name": "project_name",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/github_com_cocursor_backend_internal_domain_cursor.ConversationOverview"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/stats/current-session": {
            "get": {
                "description": "使用 project_name 参数查询项目，如果不提供则尝试从当前工作目录自动检测",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "统计"
                ],
                "summary": "获取当前会话的健康状态",
                "parameters": [
                    {
                        "type": "string",
                        "description": "项目名称，如 cocursor（可通过 GET /api/v1/project/list 查看所有项目）",
                        "name": "project_name",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/github_com_cocursor_backend_internal_application_cursor.HealthInfo"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/stats/daily-report": {
            "get": {
                "description": "使用 project_name 参数查询项目，如果不提供则尝试从当前工作目录自动检测",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "统计"
                ],
                "summary": "生成日报",
                "parameters": [
                    {
                        "type": "string",
                        "description": "项目名称，如 cocursor（可通过 GET /api/v1/project/list 查看所有项目）",
                        "name": "project_name",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "日期，格式 YYYY-MM-DD，默认今天",
                        "name": "date",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Top N 会话数，默认 5，最大 20",
                        "name": "top_n_sessions",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Top N 文件数，默认 10，最大 50",
                        "name": "top_n_files",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/github_com_cocursor_backend_internal_domain_cursor.DailyReport"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/stats/file-references": {
            "get": {
                "description": "使用 project_name 参数查询项目，如果不提供则尝试从当前工作目录自动检测",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "统计"
                ],
                "summary": "获取文件引用分析",
                "parameters": [
                    {
                        "type": "string",
                        "description": "项目名称，如 cocursor（可通过 GET /api/v1/project/list 查看所有项目）",
                        "name": "project_name",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "返回前 N 个文件，默认 10，最大 50，最小 1",
                        "name": "top_n",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/definitions/github_com_cocursor_backend_internal_domain_cursor.FileReference"
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/stats/token-usage": {
            "get": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "统计"
                ],
                "summary": "获取 Token 使用统计",
                "parameters": [
                    {
                        "type": "string",
                        "description": "日期，格式 YYYY-MM-DD，默认今天",
                        "name": "date",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "项目名称，如 cocursor（可通过 GET /api/v1/project/list 查看所有项目）",
                        "name": "project_name",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/github_com_cocursor_backend_internal_domain_cursor.TokenUsage"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/stats/work-analysis": {
            "get": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "统计"
                ],
                "summary": "获取工作分析数据",
                "parameters": [
                    {
                        "type": "string",
                        "description": "开始日期，格式 YYYY-MM-DD，默认最近 7 天",
                        "name": "start_date",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "结束日期，格式 YYYY-MM-DD，默认今天",
                        "name": "end_date",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "项目名称，如 cocursor（不提供则跨项目聚合）",
                        "name": "project_name",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/github_com_cocursor_backend_internal_domain_cursor.WorkAnalysis"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_interfaces_http_response.ErrorResponse"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "github_com_cocursor_backend_internal_application_cursor.GenerationWithSource": {
            "type": "object",
            "properties": {
                "generationUUID": {
                    "description": "生成的唯一标识符",
                    "type": "string"
                },
                "source": {
                    "description": "工作区 ID",
                    "type": "string"
                },
                "textDescription": {
                    "description": "AI 的实际回复内容或操作描述",
                    "type": "string"
                },
                "type": {
                    "description": "生成类型：composer/chat/tab",
                    "type": "string"
                },
                "unixMs": {
                    "description": "Unix 时间戳（毫秒）",
                    "type": "integer"
                }
            }
        },
        "github_com_cocursor_backend_internal_application_cursor.HealthInfo": {
            "type": "object",
            "properties": {
                "entropy": {
                    "description": "熵值",
                    "type": "number"
                },
                "status": {
                    "description": "健康状态",
                    "allOf": [
                        {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_application_cursor.HealthStatus"
                        }
                    ]
                },
                "warning": {
                    "description": "警告信息（如果有）",
                    "type": "string"
                }
            }
        },
        "github_com_cocursor_backend_internal_application_cursor.HealthStatus": {
            "type": "string",
            "enum": [
                "healthy",
                "sub_healthy",
                "dangerous"
            ],
            "x-enum-varnames": [
                "HealthStatusHealthy",
                "HealthStatusSubHealthy",
                "HealthStatusDangerous"
            ]
        },
        "github_com_cocursor_backend_internal_application_cursor.PromptWithSource": {
            "type": "object",
            "properties": {
                "prompt": {
                    "type": "object",
                    "additionalProperties": true
                },
                "source": {
                    "description": "工作区 ID",
                    "type": "string"
                }
            }
        },
        "github_com_cocursor_backend_internal_application_cursor.SessionWithSource": {
            "type": "object",
            "properties": {
                "composerId": {
                    "description": "会话唯一标识符",
                    "type": "string"
                },
                "contextUsagePercent": {
                    "description": "代码变更统计（关键字段）",
                    "type": "number"
                },
                "createdAt": {
                    "description": "创建时间戳（毫秒）",
                    "type": "integer"
                },
                "createdOnBranch": {
                    "description": "创建时的 Git 分支",
                    "type": "string"
                },
                "filesChangedCount": {
                    "description": "变更的文件数量",
                    "type": "integer"
                },
                "forceMode": {
                    "description": "强制模式",
                    "type": "string"
                },
                "hasBlockingPendingActions": {
                    "type": "boolean"
                },
                "hasUnreadMessages": {
                    "description": "状态标志",
                    "type": "boolean"
                },
                "isArchived": {
                    "type": "boolean"
                },
                "isDraft": {
                    "type": "boolean"
                },
                "isSpec": {
                    "type": "boolean"
                },
                "isWorktree": {
                    "type": "boolean"
                },
                "lastUpdatedAt": {
                    "description": "最后更新时间戳（毫秒）",
                    "type": "integer"
                },
                "name": {
                    "description": "会话名称",
                    "type": "string"
                },
                "numSubComposers": {
                    "description": "层级关系",
                    "type": "integer"
                },
                "referencedPlans": {
                    "description": "引用的计划列表",
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "source": {
                    "description": "工作区 ID",
                    "type": "string"
                },
                "subtitle": {
                    "description": "涉及的文件列表（逗号分隔）",
                    "type": "string"
                },
                "totalLinesAdded": {
                    "description": "总添加行数",
                    "type": "integer"
                },
                "totalLinesRemoved": {
                    "description": "总删除行数",
                    "type": "integer"
                },
                "type": {
                    "description": "基础信息",
                    "type": "string"
                },
                "unifiedMode": {
                    "description": "模式信息",
                    "type": "string"
                }
            }
        },
        "github_com_cocursor_backend_internal_application_notification.CreateNotificationDTO": {
            "type": "object",
            "required": [
                "message",
                "teamCode",
                "title"
            ],
            "properties": {
                "message": {
                    "type": "string"
                },
                "teamCode": {
                    "type": "string"
                },
                "title": {
                    "type": "string"
                },
                "type": {
                    "type": "integer"
                }
            }
        },
        "github_com_cocursor_backend_internal_domain_cursor.AIUsageSummary": {
            "type": "object",
            "properties": {
                "active_sessions": {
                    "description": "活跃会话数",
                    "type": "integer"
                },
                "total_chats": {
                    "description": "总对话数",
                    "type": "integer"
                },
                "total_generations": {
                    "description": "总生成数",
                    "type": "integer"
                }
            }
        },
        "github_com_cocursor_backend_internal_domain_cursor.CodeBlock": {
            "type": "object",
            "properties": {
                "code": {
                    "description": "代码内容",
                    "type": "string"
                },
                "language": {
                    "description": "语言（如 \"go\", \"typescript\"）",
                    "type": "string"
                }
            }
        },
        "github_com_cocursor_backend_internal_domain_cursor.CodeChangeSummary": {
            "type": "object",
            "properties": {
                "files_changed": {
                    "description": "变更文件数",
                    "type": "integer"
                },
                "total_lines_added": {
                    "description": "总添加行数",
                    "type": "integer"
                },
                "total_lines_removed": {
                    "description": "总删除行数",
                    "type": "integer"
                }
            }
        },
        "github_com_cocursor_backend_internal_domain_cursor.ComposerData": {
            "type": "object",
            "properties": {
                "composerId": {
                    "description": "会话唯一标识符",
                    "type": "string"
                },
                "contextUsagePercent": {
                    "description": "代码变更统计（关键字段）",
                    "type": "number"
                },
                "createdAt": {
                    "description": "创建时间戳（毫秒）",
                    "type": "integer"
                },
                "createdOnBranch": {
                    "description": "创建时的 Git 分支",
                    "type": "string"
                },
                "filesChangedCount": {
                    "description": "变更的文件数量",
                    "type": "integer"
                },
                "forceMode": {
                    "description": "强制模式",
                    "type": "string"
                },
                "hasBlockingPendingActions": {
                    "type": "boolean"
                },
                "hasUnreadMessages": {
                    "description": "状态标志",
                    "type": "boolean"
                },
                "isArchived": {
                    "type": "boolean"
                },
                "isDraft": {
                    "type": "boolean"
                },
                "isSpec": {
                    "type": "boolean"
                },
                "isWorktree": {
                    "type": "boolean"
                },
                "lastUpdatedAt": {
                    "description": "最后更新时间戳（毫秒）",
                    "type": "integer"
                },
                "name": {
                    "description": "会话名称",
                    "type": "string"
                },
                "numSubComposers": {
                    "description": "层级关系",
                    "type": "integer"
                },
                "referencedPlans": {
                    "description": "引用的计划列表",
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "subtitle": {
                    "description": "涉及的文件列表（逗号分隔）",
                    "type": "string"
                },
                "totalLinesAdded": {
                    "description": "总添加行数",
                    "type": "integer"
                },
                "totalLinesRemoved": {
                    "description": "总删除行数",
                    "type": "integer"
                },
                "type": {
                    "description": "基础信息",
                    "type": "string"
                },
                "unifiedMode": {
                    "description": "模式信息",
                    "type": "string"
                }
            }
        },
        "github_com_cocursor_backend_internal_domain_cursor.ConversationOverview": {
            "type": "object",
            "properties": {
                "active_sessions": {
                    "description": "活跃会话数",
                    "type": "integer"
                },
                "latest_chat_time": {
                    "description": "最近对话时间（ISO 8601）",
                    "type": "string"
                },
                "time_since_last_gen": {
                    "description": "距离最近生成的时间（分钟）",
                    "type": "number"
                },
                "total_chats": {
                    "description": "总对话数",
                    "type": "integer"
                },
                "total_generations": {
                    "description": "总生成数",
                    "type": "integer"
                }
            }
        },
        "github_com_cocursor_backend_internal_domain_cursor.DailyAcceptanceStats": {
            "type": "object",
            "properties": {
                "composerAcceptedLines": {
                    "description": "Composer 接受的代码行数",
                    "type": "integer"
                },
                "composerSuggestedLines": {
                    "description": "Composer 建议的代码行数",
                    "type": "integer"
                },
                "composer_acceptance_rate": {
                    "description": "Composer 接受率（百分比，计算字段）",
                    "type": "number"
                },
                "data_quality": {
                    "description": "数据质量标识：normal/warning/invalid",
                    "type": "string"
                },
                "date": {
                    "description": "日期 YYYY-MM-DD",
                    "type": "string"
                },
                "tabAcceptedLines": {
                    "description": "Tab 接受的代码行数",
                    "type": "integer"
                },
                "tabSuggestedLines": {
                    "description": "Tab 建议的代码行数",
                    "type": "integer"
                },
                "tab_acceptance_rate": {
                    "description": "Tab 接受率（百分比，计算字段）",
                    "type": "number"
                },
                "warning_message": {
                    "description": "警告信息",
                    "type": "string"
                }
            }
        },
        "github_com_cocursor_backend_internal_domain_cursor.DailyCodeChanges": {
            "type": "object",
            "properties": {
                "date": {
                    "description": "日期 YYYY-MM-DD",
                    "type": "string"
                },
                "files_changed": {
                    "description": "变更文件数",
                    "type": "integer"
                },
                "lines_added": {
                    "description": "添加行数",
                    "type": "integer"
                },
                "lines_removed": {
                    "description": "删除行数",
                    "type": "integer"
                }
            }
        },
        "github_com_cocursor_backend_internal_domain_cursor.DailyReport": {
            "type": "object",
            "properties": {
                "acceptance_rate": {
                    "description": "接受率统计",
                    "allOf": [
                        {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_domain_cursor.DailyAcceptanceStats"
                        }
                    ]
                },
                "ai_usage": {
                    "description": "AI 使用统计",
                    "allOf": [
                        {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_domain_cursor.AIUsageSummary"
                        }
                    ]
                },
                "code_changes": {
                    "description": "代码变更汇总",
                    "allOf": [
                        {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_domain_cursor.CodeChangeSummary"
                        }
                    ]
                },
                "date": {
                    "description": "日期 YYYY-MM-DD",
                    "type": "string"
                },
                "top_files": {
                    "description": "Top N 文件引用",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/github_com_cocursor_backend_internal_domain_cursor.FileReference"
                    }
                },
                "top_sessions": {
                    "description": "Top N 会话",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/github_com_cocursor_backend_internal_domain_cursor.SessionSummary"
                    }
                },
                "workspace_id": {
                    "description": "工作区 ID",
                    "type": "string"
                }
            }
        },
        "github_com_cocursor_backend_internal_domain_cursor.EfficiencyMetrics": {
            "type": "object",
            "properties": {
                "avg_context_usage": {
                    "description": "平均上下文使用率",
                    "type": "number"
                },
                "avg_session_entropy": {
                    "description": "平均会话熵值",
                    "type": "number"
                },
                "entropy_trend": {
                    "description": "熵值趋势",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/github_com_cocursor_backend_internal_domain_cursor.EntropyTrendItem"
                    }
                }
            }
        },
        "github_com_cocursor_backend_internal_domain_cursor.EntropyTrendItem": {
            "type": "object",
            "properties": {
                "date": {
                    "description": "日期 YYYY-MM-DD",
                    "type": "string"
                },
                "value": {
                    "description": "熵值",
                    "type": "number"
                }
            }
        },
        "github_com_cocursor_backend_internal_domain_cursor.FileReference": {
            "type": "object",
            "properties": {
                "file_name": {
                    "description": "文件名",
                    "type": "string"
                },
                "file_type": {
                    "description": "文件类型（从扩展名推断）",
                    "type": "string"
                },
                "reference_count": {
                    "description": "引用次数",
                    "type": "integer"
                }
            }
        },
        "github_com_cocursor_backend_internal_domain_cursor.Message": {
            "type": "object",
            "properties": {
                "code_blocks": {
                    "description": "代码块（如果有）",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/github_com_cocursor_backend_internal_domain_cursor.CodeBlock"
                    }
                },
                "files": {
                    "description": "引用的文件（如果有）",
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "text": {
                    "description": "消息文本",
                    "type": "string"
                },
                "timestamp": {
                    "description": "时间戳（毫秒）",
                    "type": "integer"
                },
                "type": {
                    "description": "消息类型：user/ai",
                    "allOf": [
                        {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_domain_cursor.MessageType"
                        }
                    ]
                }
            }
        },
        "github_com_cocursor_backend_internal_domain_cursor.MessageType": {
            "type": "string",
            "enum": [
                "user",
                "ai"
            ],
            "x-enum-comments": {
                "MessageTypeAI": "AI 消息",
                "MessageTypeUser": "用户消息"
            },
            "x-enum-descriptions": [
                "用户消息",
                "AI 消息"
            ],
            "x-enum-varnames": [
                "MessageTypeUser",
                "MessageTypeAI"
            ]
        },
        "github_com_cocursor_backend_internal_domain_cursor.ProjectInfo": {
            "type": "object",
            "properties": {
                "created_at": {
                    "description": "项目首次发现时间",
                    "type": "string"
                },
                "git_branch": {
                    "description": "Git 分支（如果有）",
                    "type": "string"
                },
                "git_remote_url": {
                    "description": "Git 远程仓库 URL（如果有）",
                    "type": "string"
                },
                "last_updated_at": {
                    "description": "最后更新时间",
                    "type": "string"
                },
                "project_id": {
                    "description": "项目唯一 ID",
                    "type": "string"
                },
                "project_name": {
                    "description": "项目名称（唯一）",
                    "type": "string"
                },
                "workspaces": {
                    "description": "包含的所有工作区",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/github_com_cocursor_backend_internal_domain_cursor.WorkspaceInfo"
                    }
                }
            }
        },
        "github_com_cocursor_backend_internal_domain_cursor.SessionDetail": {
            "type": "object",
            "properties": {
                "has_more": {
                    "description": "是否还有更多消息",
                    "type": "boolean"
                },
                "messages": {
                    "description": "消息列表（按时间排序）",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/github_com_cocursor_backend_internal_domain_cursor.Message"
                    }
                },
                "session": {
                    "description": "会话元数据",
                    "allOf": [
                        {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_domain_cursor.ComposerData"
                        }
                    ]
                },
                "total_messages": {
                    "description": "总消息数",
                    "type": "integer"
                }
            }
        },
        "github_com_cocursor_backend_internal_domain_cursor.SessionSummary": {
            "type": "object",
            "properties": {
                "composer_id": {
                    "description": "会话 ID",
                    "type": "string"
                },
                "duration": {
                    "description": "持续时间（分钟）",
                    "type": "number"
                },
                "entropy": {
                    "description": "熵值",
                    "type": "number"
                },
                "files_changed": {
                    "description": "变更文件数",
                    "type": "integer"
                },
                "name": {
                    "description": "会话名称",
                    "type": "string"
                },
                "total_lines": {
                    "description": "总变更行数",
                    "type": "integer"
                }
            }
        },
        "github_com_cocursor_backend_internal_domain_cursor.TimeDistributionItem": {
            "type": "object",
            "properties": {
                "count": {
                    "description": "该时段的活跃次数",
                    "type": "integer"
                },
                "day": {
                    "description": "星期几（0=周日, 1=周一, ...）",
                    "type": "integer"
                },
                "hour": {
                    "description": "小时（0-23）",
                    "type": "integer"
                }
            }
        },
        "github_com_cocursor_backend_internal_domain_cursor.TokenByType": {
            "type": "object",
            "properties": {
                "chat": {
                    "description": "普通聊天",
                    "type": "integer"
                },
                "composer": {
                    "description": "Composer 模式",
                    "type": "integer"
                },
                "tab": {
                    "description": "Tab 自动补全",
                    "type": "integer"
                }
            }
        },
        "github_com_cocursor_backend_internal_domain_cursor.TokenUsage": {
            "type": "object",
            "properties": {
                "by_type": {
                    "description": "按类型分类",
                    "allOf": [
                        {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_domain_cursor.TokenByType"
                        }
                    ]
                },
                "date": {
                    "description": "日期 YYYY-MM-DD",
                    "type": "string"
                },
                "total_tokens": {
                    "description": "总 Token 数",
                    "type": "integer"
                },
                "trend": {
                    "description": "趋势（与昨日对比），如 \"+15%\" 或 \"-5%\"",
                    "type": "string"
                }
            }
        },
        "github_com_cocursor_backend_internal_domain_cursor.WorkAnalysis": {
            "type": "object",
            "properties": {
                "code_changes_trend": {
                    "description": "代码变更趋势",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/github_com_cocursor_backend_internal_domain_cursor.DailyCodeChanges"
                    }
                },
                "efficiency_metrics": {
                    "description": "效率指标",
                    "allOf": [
                        {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_domain_cursor.EfficiencyMetrics"
                        }
                    ]
                },
                "overview": {
                    "description": "概览指标",
                    "allOf": [
                        {
                            "$ref": "#/definitions/github_com_cocursor_backend_internal_domain_cursor.WorkAnalysisOverview"
                        }
                    ]
                },
                "time_distribution": {
                    "description": "时间分布（用于热力图）",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/github_com_cocursor_backend_internal_domain_cursor.TimeDistributionItem"
                    }
                },
                "top_files": {
                    "description": "Top N 文件引用",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/github_com_cocursor_backend_internal_domain_cursor.FileReference"
                    }
                }
            }
        },
        "github_com_cocursor_backend_internal_domain_cursor.WorkAnalysisOverview": {
            "type": "object",
            "properties": {
                "acceptance_rate": {
                    "description": "平均接受率",
                    "type": "number"
                },
                "active_sessions": {
                    "description": "活跃会话数",
                    "type": "integer"
                },
                "files_changed": {
                    "description": "变更文件数",
                    "type": "integer"
                },
                "total_lines_added": {
                    "description": "总添加行数",
                    "type": "integer"
                },
                "total_lines_removed": {
                    "description": "总删除行数",
                    "type": "integer"
                }
            }
        },
        "github_com_cocursor_backend_internal_domain_cursor.WorkspaceInfo": {
            "type": "object",
            "properties": {
                "git_branch": {
                    "description": "Git 分支",
                    "type": "string"
                },
                "git_remote_url": {
                    "description": "Git 远程 URL",
                    "type": "string"
                },
                "is_active": {
                    "description": "是否为当前活跃的工作区",
                    "type": "boolean"
                },
                "is_primary": {
                    "description": "是否为主工作区（最新的）",
                    "type": "boolean"
                },
                "path": {
                    "description": "项目路径",
                    "type": "string"
                },
                "project_name": {
                    "description": "所属项目名",
                    "type": "string"
                },
                "workspace_id": {
                    "description": "Cursor 工作区 ID",
                    "type": "string"
                }
            }
        },
        "github_com_cocursor_backend_internal_interfaces_http_response.ErrorResponse": {
            "type": "object",
            "properties": {
                "code": {
                    "type": "integer"
                },
                "detail": {
                    "type": "string"
                },
                "message": {
                    "type": "string"
                }
            }
        },
        "github_com_cocursor_backend_internal_interfaces_http_response.Response": {
            "type": "object",
            "properties": {
                "code": {
                    "type": "integer"
                },
                "data": {},
                "message": {
                    "type": "string"
                }
            }
        },
        "internal_interfaces_http_handler.ActivateProjectRequest": {
            "type": "object",
            "required": [
                "path"
            ],
            "properties": {
                "path": {
                    "description": "项目路径",
                    "type": "string"
                },
                "timestamp": {
                    "description": "时间戳",
                    "type": "integer"
                }
            }
        },
        "internal_interfaces_http_handler.ActivateProjectResponse": {
            "type": "object",
            "properties": {
                "is_active": {
                    "type": "boolean"
                },
                "message": {
                    "type": "string"
                },
                "project_id": {
                    "type": "string"
                },
                "project_name": {
                    "type": "string"
                },
                "success": {
                    "type": "boolean"
                },
                "workspace_info": {
                    "$ref": "#/definitions/github_com_cocursor_backend_internal_domain_cursor.WorkspaceInfo"
                }
            }
        },
        "internal_interfaces_http_handler.ProjectAcceptanceStatsResponse": {
            "type": "object",
            "properties": {
                "merged_stats": {
                    "$ref": "#/definitions/github_com_cocursor_backend_internal_domain_cursor.DailyAcceptanceStats"
                },
                "project_name": {
                    "type": "string"
                },
                "raw_stats": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/github_com_cocursor_backend_internal_domain_cursor.DailyAcceptanceStats"
                    }
                },
                "workspaces": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/github_com_cocursor_backend_internal_domain_cursor.WorkspaceInfo"
                    }
                }
            }
        },
        "internal_interfaces_http_handler.ProjectGenerationsResponse": {
            "type": "object",
            "properties": {
                "generations": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/github_com_cocursor_backend_internal_application_cursor.GenerationWithSource"
                    }
                },
                "project_name": {
                    "type": "string"
                },
                "total": {
                    "type": "integer"
                },
                "workspaces": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/github_com_cocursor_backend_internal_domain_cursor.WorkspaceInfo"
                    }
                }
            }
        },
        "internal_interfaces_http_handler.ProjectPromptsResponse": {
            "type": "object",
            "properties": {
                "project_name": {
                    "type": "string"
                },
                "prompts": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/github_com_cocursor_backend_internal_application_cursor.PromptWithSource"
                    }
                },
                "total": {
                    "type": "integer"
                },
                "workspaces": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/github_com_cocursor_backend_internal_domain_cursor.WorkspaceInfo"
                    }
                }
            }
        },
        "internal_interfaces_http_handler.ProjectSessionsResponse": {
            "type": "object",
            "properties": {
                "project_name": {
                    "type": "string"
                },
                "sessions": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/github_com_cocursor_backend_internal_application_cursor.SessionWithSource"
                    }
                },
                "total": {
                    "type": "integer"
                },
                "workspaces": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/github_com_cocursor_backend_internal_domain_cursor.WorkspaceInfo"
                    }
                }
            }
        }
    }
}