[cocursor]让 AI 学会「懂你」—— 用户画像功能

AI 编程时代，我们每天都在练习：**怎么把需求讲清楚**。  
但更关键的是：**怎么让 AI 用你喜欢的方式跟你协作？**

你可能每天都在重复这些"开场白"：

- **注释用中文**
- **日志用英文且符合等级**
- **不写示例代码，直接改现有功能**
- **项目是 DDD/分层结构，别乱改目录**
- **我喜欢先给结论，再给步骤**

问题是：**窗口一换、会话一新，AI 又像第一次认识你。**  
你在不断"重新自我介绍"，把时间浪费在重复对齐上。

---

## 我做了一个 Cursor Skill：用户画像

它做的事情很简单：  
**把你在 Cursor 里说过的话，变成 AI 能长期记住的协作偏好。**

你已经用了 Cursor 很久——会话记录里其实包含了：

- 你常用的技术栈与熟悉程度  
- 你对当前项目的理解（模块、边界、改动习惯）  
- 你偏好的沟通方式（简洁/展开、先结论/先分析）  
- 你对规范的要求（命名、注释、日志、架构约束）

---

## 真实案例：我的用户画像分析

我用这个功能分析了自己最近 **872 条对话记录**，发现了这些规律：

### 高频重复指令

| 频次 | 消息内容 |
|------|---------|
| **29次** | `/openspec-apply 开始实施` |
| **9次** | `/daily-summary` |
| **9次** | `继续完成剩余工作` |
| **6次** | `继续完成` |
| **5次** | `这是用户的问题` |
| **4次** | `按照方案一进行实施` |
| **4次** | `按照你的想法进行修复。` |
| **4次** | `有问题你应该来修复，而不是修改ci` |
| **4次** | `这些都是历史债务进行修复。` |
| **4次** | `你来执行lint，发现代码中的问题，并同我讨论如何解决。` |

### 表达习惯特征

| 习惯类型 | 出现次数 | 占比 |
|---------|---------|------|
| 提问式表达（？） | 191次 | 21.9% |
| 追问/继续 | 89次 | 10.2% |
| 使用@引用文件 | 85次 | 9.7% |
| 使用斜杠命令 | 81次 | 9.3% |
| 否定/拒绝 | 37次 | 4.2% |
| 指令式表达 | 21次 | 2.4% |

### 技术栈偏好

| 技术 | 提及次数 |
|-----|---------|
| OpenSpec | 93次 |
| Cursor | 89次 |
| Go | 49次 |
| MCP | 42次 |
| RAG | 39次 |
| HTTP | 26次 |
| Make | 24次 |
| CI | 21次 |
| API | 20次 |
| Extension | 17次 |
| VSCode | 17次 |
| Lint | 15次 |
| React | 9次 |

### 常见指令关键词统计

```
是(250) > 问题(173) > 分析(115) > 使用(88) > 继续(85) > 对(83)
创建(49) > 改(43) > 优化(30) > 修复(22) > 好(22) > 请(21)
生成(20) > 解决(20) > 修改(19) > 不要(18) > 删除(17) > 英文(15)
```

### 关键洞察

1. **OpenSpec 工作流驱动**：大量使用 `/openspec-apply` 和 `/openspec-proposal`，说明习惯先提案再实施的规范化流程
2. **追问式协作**：「继续完成剩余工作」「继续完成」等表达频繁出现，倾向于分步骤推进，而非一次性完成
3. **问题导向**：21.9% 的消息是提问式，先理解问题再行动
4. **代码引用习惯**：9.7% 的消息使用 `@` 引用文件，习惯精确定位代码位置
5. **技术栈聚焦**：Go + React 全栈，专注于 MCP、RAG、Cursor 插件开发
6. **质量意识强**：频繁提及 lint、CI，重视代码质量

---

### 生成的用户画像

基于以上分析，自动生成的画像如下：

```markdown
# User Profile

## 编码风格
- 注释使用中文，日志使用英文
- 偏好 DDD 架构和清晰的模块边界
- 重视代码质量：频繁使用 lint 检查，关注 CI 流程
- 习惯使用 Make 管理构建任务
- 不喜欢示例代码，倾向于直接修改业务代码

## 技术画像
- **精通**: Go, Cursor 插件开发, MCP, OpenSpec 工作流
- **熟练**: React, TypeScript, RAG, VSCode Extension API, HTTP API 设计
- **使用中**: golangci-lint, CI/CD, SQL

## 沟通风格
- **提问优先**: 21.9% 的消息是提问式，先理解问题再行动
- **分步推进**: 习惯用「继续完成剩余工作」分阶段推进任务
- **精确引用**: 使用 @文件名 和行号范围精确定位代码
- **斜杠命令**: 熟练使用 /openspec-apply、/daily-summary 等命令
- **结果导向**: 期望 AI 直接解决问题，而非绕路
- **语言偏好**: 中文为主

## 工作习惯
- **OpenSpec 驱动**: 先 proposal 后 apply，规范化的变更流程
- **迭代式开发**: 倾向于小步快跑，而非一次性完成大任务
- **问题追踪**: 关注「历史债务」的修复
- **质量第一**: 频繁执行 lint 检查，讨论后再修复
```

---

## 关键点：它会「对比」你当前的 Cursor Rules

很多人项目里已经有一堆 Rule：团队规范、个人习惯、临时约束……  
最容易踩坑的是：**新生成的画像把你原来的规则覆盖了，或者出现冲突，AI 更混乱。**

所以用户画像会做一件很实用的事：

- **读取并对比现有 Cursor Rules**：看看你已经写了什么  
- **找出冲突与重复**：例如"允许示例代码" vs "不要示例代码"  
- **给出合并结果**：以"保留你现有规则"为优先，画像只补全缺失信息  
- **可控更新**：让规则变得更一致，而不是越叠越乱

最终，画像会以 Cursor Rule 形式持续生效：  
**从此你不需要每天重复规则，AI 会先按你的规则来。**

---

## 它能带来什么体验提升？

- **更少废话**：不用再解释"注释中文/日志英文/不写示例代码"
- **更少返工**：规则不冲突，AI 的输出更稳定
- **更像队友**：它会按你的表达方式输出（先结论、再细节）
- **越用越准**：对话越多，画像越贴近你真实的工作方式

---

## 隐私也很重要

- **仅本地分析与存储**
- **项目级画像自动加入 `.gitignore`**
- 你的偏好不外泄，只服务你自己的开发体验

---

## 如何安装？

用户画像是 **CoCursor** 插件的内置功能。

### 方式一：在 Cursor 扩展市场直接安装（推荐）

1. 打开 Cursor
2. 进入扩展市场（快捷键 `Cmd+Shift+X` 或 `Ctrl+Shift+X`）
3. 搜索 **"CoCursor"**
4. 点击安装

### 方式二：从 Open VSX 安装

直接访问：[Open VSX - CoCursor](https://open-vsx.org/extension/cocursor/cocursor)

### 方式三：从 GitHub Releases 安装

1. 前往 [GitHub Releases](https://github.com/co-cursor/cocursor/releases) 下载对应平台的 `.vsix` 文件
2. 在终端执行：

```bash
code --install-extension cocursor-<platform>.vsix
```

---

## 怎么用？

安装完成后，在 Cursor 里说一句就行：

> 帮我分析一下我的用户画像

或：

> 让 Cursor 更了解我

生成一次，长期受益。  
**让 AI 适应你，而不是你每天适应 AI。**

---

## 更多信息

- **GitHub**: https://github.com/co-cursor/cocursor
- **Open VSX**: https://open-vsx.org/extension/cocursor/cocursor
